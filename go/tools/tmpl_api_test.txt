package main

import (
    "bytes"
	"encoding/json"
    "os"
    "testing"

    "github.com/ccxt/ccxt/go/pkg/ccxt"
)

var info ccxt.ExchangeInfo
var c {{title .ID}}Exchange

func init() {
	f, err := os.Open("{{.ID}}")
	if err != nil {
		panic(err)
	}
	defer f.Close()
	json.NewDecoder(f).Decode(&info)
}

{{$baseURL := .URLs.API.Public}}{{$id := .ID | title}}{{range $api := .API.Public.Get}}
func TestPublicGet{{apiToFuncName $api}}(t *testing.T) {
    data, err := c.PublicGet{{apiToFuncName $api}}()
    if err != nil {
        t.Fatal(err)
    }
    if data == nil {
        t.Fatal("Did not return data")
    }
}{{end}}